#+title: Lab Translation: Proof of Concept

* Objective

  It was agreed that the existing content may be made available in
  multilingual options or state-specific languages. IIIT Hyderabad has
  kindly agreed to recast one lab as a pilot in two language viz Hindi
  and Telugu in addition to English as default language.


* Motivation

  The *Virtual Labs* portal provides remote-access to Labs for
  engineering students to perform experiments and learn various
  concepts.  However, currently these labs are available only in English
  language, whereas a majority of Indian engineering students are more
  fluent in their native languages as compared to English.  This makes
  it more difficult for the students to focus on learning the concepts
  as they spend more time understanding the language itself.
  
  The =Virtual Labs Translation= initiative aims to address this gap and
  improve the accessibility of Virtual Labs content by translating the
  labs from English to various Indian languages.  This phase of the
  translation project includes translation to =Hindi= and =Telugu=
  languages.


* Experiment Translation

An experiment consists of three types of content: html, images and
javascript code.  Entities of each type contain some text which need
to translated separately.

So, experiment translation involves the following three steps:

1. Text Translation
2. Image Translation
3. Text-in-code Translation


** Text Translation
  
  Translation of a lab (text content) to any given language involves
  the following steps:
  1. Pre-processing: Extraction of text from HTML
  2. Translation
  3. Post-processing: Build HTML files with translated text
     
*** Pre-processing: Extraction of text from HTML

   The lab content is in HTML format.  It contains text, simulation
   and images.  This step deals only with the textual content.

   The text content is extracted from each HTML document, and placed
   in a corresponding =txt= file.  This =txt= file is used in the text
   translation step to get the English text to be translated for each
   HTML document.

   *Effort*: Negligible.  Performed by a script.

*** Translation

   Text Translation is a two step process:
   1. Machine Translation
   2. Human Validation
      
*** Machine Translation
    
    English language text is sent to the translation API, which
    returns the text translated in the target language.  This process
    takes a few seconds for each experiment, per target language.
    Next, the translated documents need to be validated by language
    experts (humans).

    *Effort*: Negligible.  Performed by a script.

*** Human Validation (Text)

    A language expert reads all the translated documents and fixes any
    errors and inconsistencies in the translated text.

    The text content is now ready to be placed in the HTML documents.

    *Effort*: 2 person-day /experiment /language

*** Post-processing: Build HTML files with translated text

**** Build HTML
    
    The text content in HTML documents is replaced with corresponding
    text in the target language using the =txt= file that contains
    mapping from English text to translated text.

    *Effort*: Negligible.  Performed by a script.

    This is followed by a validation step.

**** Human Validation (HTML)

    The HTML documents now contain text a new language.  Even though
    the text has been validated in a previous step, another validation
    is required at this stage to assess the overall quality of the
    translated web-page.

    *Effort*: 0.5 person-days /experiment /language


** Image Translation

   Translating images implies rebuilding each image by replacing all
   the text content in the image with the same text translated in the
   target language.  Here we assume that the images are in =bitmap file
   formats= and the source files (in =vector format= or =container
   format= are not available).

*** Manual Translation
    
    The translation is performed by a language expert using Adobe
    Photoshop for extracting and replacing text in the image and
    google translate for the text translation.
    
    *Effort* : 2 person-days /experiment /language
    
*** Automated Translation 

   Images are translated using [[https://www.imagetranslate.com/][ImageTranslate]] - a tool that performs
   text extraction, translation and rebuilding itself and gives a
   translated image in the target language.
   
   Limited human intervention is involved in validation and editing of
   the results.
   
   *Effort*: 0.5 person-days /experiment /language

      
** Text-in-code translation
  
  Every lab consists of some dynamic content that is managed by
  JavaScript.  This is mostly true for the experiment simulations and
  may include other sections such as quizzes.

  The text content in JavaScript files can be translated in two ways:
  1. Manually searching through the code and extracting all the text
     strings.
  2. Automated extraction.  This is only possible if certain =i18n=
     conventions are followed during the development process.

  *Effort*:
  - 1st Method: 0.5 person-day /experiment /language
  - 2nd method: Negligible     
    

* Effort and Cost Estimate

** Assumptions

| S. No | Item                            | Description              | Value considered |
|-------+---------------------------------+--------------------------+------------------|
|     1 | Number of words per experiment  | Using automated tools,   | 6,500            |
|       |                                 | the number of words per  |                  |
|       |                                 | experiment were found to |                  |
|       |                                 | range anywhere between   |                  |
|       |                                 | 5,000 and 7,000.         |                  |
|-------+---------------------------------+--------------------------+------------------|
|     2 | Number of images per experiment | The number of images     | 20               |
|       |                                 | per experiment were      |                  |
|       |                                 | found to range between   |                  |
|       |                                 | 10 to 30                 |                  |
|-------+---------------------------------+--------------------------+------------------|


** Model Summaries

Abbreviations:

| Abbreviation | Full form              |
|--------------+------------------------|
| MT           | Machine Transation     |
| HV           | Human Validation       |
| IT           | Image Translation      |
| ST           | Simulation Translation |

Units:

| Entity | Unit                              |
|--------+-----------------------------------|
| cost   | INR /experiment /language         |
|--------+-----------------------------------|
| effort | person-days /experiment /language |


| S. No | Model                    | Description         | MT | HV | IT | ST | Cost   | Effort |
|-------+--------------------------+---------------------+----+----+----+----+--------+--------|
|     1 | [[Model 1: With Human Validation][With Human Validation]]    | Validation of       | Y  | Y  | Y  | Y  | 15,000 |        |
|       |                          | translated text     |    |    |    |    |        |      5 |
|       |                          | is performed by     |    |    |    |    |        |        |
|       |                          | IIITH               |    |    |    |    |        |        |
|-------+--------------------------+---------------------+----+----+----+----+--------+--------|
|     2 | [[Model 2 : Without Human Validation][Without Human Validation]] | Machine translated  |    |    |    |    |        |        |
|       |                          | text is accepted as | Y  | N  | Y  | Y  | 6,000  |      3 |
|       |                          | publishable content |    |    |    |    |        |        |
|-------+--------------------------+---------------------+----+----+----+----+--------+--------|
|     3 | [[Model 3: Google Translate Plugin][Google Translate Plugin]]  | Use a translation   | Y  | N  | N  | N  | 0      |      0 |
|       |                          | plugin              |    |    |    |    |        |        |

pros and cons table
 
compilers
automata
ml and ai / datascience
POPL




** Models

*** Model 1: With Human Validation

**** Effort

Units:

| Entity | Unit                              |
|--------+-----------------------------------|
| cost   | INR /experiment /language         |
|--------+-----------------------------------|
| effort | person-days /experiment /language |


|-------+------------------------------+------------|
| S. No | Process Step                 | Time Taken |
|-------+------------------------------+------------|
|     1 | Extraction of text from HTML | Negligible |
|-------+------------------------------+------------|
|     2 | Machine Translation          | Negligible |
|-------+------------------------------+------------|
|     3 | Human Validation             |          2 |
|-------+------------------------------+------------|
|     4 | Building HTML                | Negligible |
|-------+------------------------------+------------|
|     5 | Human Validation (HTML)      |        0.5 |
|-------+------------------------------+------------|
|     6 | Image Translation            |          1 |
|-------+------------------------------+------------|
|     7 | Text-in-code Translation     |        0.5 |
|-------+------------------------------+------------|
|     8 | Buffer                       |          1 |
|-------+------------------------------+------------|
|       | *Total*                      |        *5* |
|-------+------------------------------+------------|

**** Technology Costs

Units:

| Entity | Unit                              |
|--------+-----------------------------------|
| cost   | INR /experiment /language         |
|--------+-----------------------------------|
| effort | person-days /experiment /language |


|-------+-------------------+----------------+----------+--------------------|
| S. No | Process           | Assignee       | Cost     | Rate Details       |
|-------+-------------------+----------------+----------+--------------------|
|     1 | Text Translation  | IIITH          | 10,000   | 6500 words         |
|       | and Validation    |                |          | @ INR 1.5 per word |
|-------+-------------------+----------------+----------+--------------------|
|     2 | Image Translation | ImageTranslate | 700      | 20 Images          |
|       |                   |                |          | @ 0.5 USD per      |
|       |                   |                |          | image * INR 70     |
|-------+-------------------+----------------+----------+--------------------|
|     3 | Contingency       |                | 2,300    | @ 20%              |
|-------+-------------------+----------------+----------+--------------------|
|       | *Total*           |                | *13,000* |                    |
|-------+-------------------+----------------+----------+--------------------|

**** Human Resource Costs

Units:

| Entity | Unit                              |
|--------+-----------------------------------|
| cost   | INR /experiment /language         |
|--------+-----------------------------------|
| effort | person-days /experiment /language |

|-------+--------------------------+-------------------------+---------+-----------------|
| S. No | Process                  | Assignee                | Cost    | Rate Details    |
|-------+--------------------------+-------------------------+---------+-----------------|
|     1 | Integration              | Web Developer @ IIITH   | 1,500   | 1 person-day    |
|       | Text-in-code Translation |                         |         | considered at a |
|       |                          |                         |         | salary of       |
|       |                          |                         |         | 30,000 / month  |
|-------+--------------------------+-------------------------+---------+-----------------|
|     2 | Image Translation        | Language Expert @ VLEAD | 500     | 1 person-day    |
|       |                          |                         |         | considered at a |
|       |                          |                         |         | salary of       |
|       |                          |                         |         | 15,000 / month  |
|-------+--------------------------+-------------------------+---------+-----------------|
|       | *Total*                  |                         | *2,000* |                 |
|-------+--------------------------+-------------------------+---------+-----------------|

**** Total Cost : Per experiment per language

Units:

| Entity | Unit                              |
|--------+-----------------------------------|
| cost   | INR /experiment /language         |
|--------+-----------------------------------|
| effort | person-days /experiment /language |


| S. No | Type of Cost | Cost     |
|-------+--------------+----------|
|     1 | External     | 13,000   |
|-------+--------------+----------|
|     2 | Internal     | 2,000    |
|-------+--------------+----------|
|       | *Total*      | *15,000* |
|-------+--------------+----------|


*** Model 2 : Without Human Validation

**** Effort

Units:

| Entity | Unit                              |
|--------+-----------------------------------|
| cost   | INR /experiment /language         |
|--------+-----------------------------------|
| effort | person-days /experiment /language |


|-------+------------------------------+------------|
| S. No | Process Step                 | Time Taken |
|-------+------------------------------+------------|
|     1 | Extraction of text from HTML | Negligible |
|-------+------------------------------+------------|
|     2 | Machine Translation          | Negligible |
|-------+------------------------------+------------|
|     3 | Building HTML                | Negligible |
|-------+------------------------------+------------|
|     4 | Human Validation (HTML)      |        0.5 |
|-------+------------------------------+------------|
|     5 | Image Translation            |          1 |
|-------+------------------------------+------------|
|     6 | Text-in-code Translation     |        0.5 |
|-------+------------------------------+------------|
|     7 | Buffer                       |          1 |
|-------+------------------------------+------------|
|       | *Total*                      |          3 |
|-------+------------------------------+------------|

**** Technology Costs

Units:

| Entity | Unit                              |
|--------+-----------------------------------|
| cost   | INR /experiment /language         |
|--------+-----------------------------------|
| effort | person-days /experiment /language |

|-------+---------------------+----------------+---------+---------------------|
| S. No | Process             | Assignee       | Cost    | Rate Details        |
|-------+---------------------+----------------+---------+---------------------|
|     1 | Machine Translation | Ebhasha        | 800     | 8000 words          |
|       |                     |                |         | @ INR 0.1 per word  |
|-------+---------------------+----------------+---------+---------------------|
|     2 | Image Translation   | ImageTranslate | 700     | 20 Images           |
|       |                     |                |         | @ 0.5 USD per image |
|       |                     |                |         | * INR 70            |
|-------+---------------------+----------------+---------+---------------------|
|     3 | Contingency         |                | 2,500   | @ 15%               |
|-------+---------------------+----------------+---------+---------------------|
|       | *Total*             |                | *4,000* |                     |
|-------+---------------------+----------------+---------+---------------------|

**** Human Resources Costs

Units:

| Entity | Unit                              |
|--------+-----------------------------------|
| cost   | INR /experiment /language         |
|--------+-----------------------------------|
| effort | person-days /experiment /language |

|-------+-------------------------+-------------------------+---------+-----------------|
| S. No | Process                 | Assignee                | Cost    | Rate Details    |
|-------+-------------------------+-------------------------+---------+-----------------|
|     1 | Extraction of text      | Web Developer @ IIITH   |         |                 |
|       | from HTML Building HTML |                         | 1,500   | 1 person-day    |
|       | post translation and    |                         |         | considered at   |
|       | validation Text-in-code |                         |         | a salary of     |
|       | Translation             |                         |         | 30,000 / month  |
|-------+-------------------------+-------------------------+---------+-----------------|
|     2 | Image Translation       | Language Expert @ IIITH | 500     | 1 person-day    |
|       |                         |                         |         | considered at a |
|       |                         |                         |         | salary of       |
|       |                         |                         |         | 15,000 / month  |
|-------+-------------------------+-------------------------+---------+-----------------|
|       | *Total*                 |                         | *2,000* |                 |
|-------+-------------------------+-------------------------+---------+-----------------|

**** Total Cost : Per experiment per language

| S. No | Type of Cost | Price (INR) |
|-------+--------------+-------------|
|     1 | External     | 4,000       |
|-------+--------------+-------------|
|     2 | Internal     | 2,000       |
|-------+--------------+-------------|
|       | *Total*      | *6,000*     |
|-------+--------------+-------------|


*** Model 3: Google Translate Plugin

This option requires the users (students) to install a google
translation plugin in their browsers.  This plugin enables automated
transalation of text content on the web page.

**** Scope of translation using the plugin

This plugin supports transation of text content in the HTML document.
Text content in images is translated.

**** How to use the plugin

The Google translate plugin is available for all the major web
browerser.  [[Plugin Details][Here]] is a list of all the browsers that support this
plugin along with links to the plugin installtion pages.

Once the plugin is installed, the user needs to click on the plugin
and select the target language.  The google translate plugin will then
translate the entire content on the web-page to the target language.
This process might take a a few seconds depending on the internet
bandwidth.

This process has to be repeated everytime the user visits a new html
document.

**** Advantage

- Prevents time and effort spent in translating the content.
- Real time translation
- Optional : The user can decide which part of the page she needs
  translated.

**** Drawbacks

- Users need to be aware of this facility
- Users have to do more work
- Images are not translated
- Dynamic content behavior is unpredictable.  Depending on nature of
  the script that renders dynamic content, the text may or may not be
  translated automatically.  So, experiment simulations may not work
  properly.

**** Plugin Details

| Browser           | Plugin           |
|-------------------+------------------|
| Chrome            | [[https://chrome.google.com/webstore/detail/google-translate/aapbdbdomjkkjkaonfhkkikfgjllcleb?hl=en][Google Translate]] |
| Internet Explorer | [[https://www.google.com/intl/en_uk/toolbar/ie/index.html][Google Toolbar]]   |
| Opera             | [[https://addons.opera.com/en/extensions/details/google-translate/][Google Translate]] |
| Safari            | [[http://sidetree.com/translateme.html][Translateme]]      |
|                   |                  |



